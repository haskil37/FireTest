@{
    ViewBag.Title = "Статистика";
}
@Styles.Render("~/Content/statistic")
<div id="loadingIndicator" style="display:none;">
    <div class="container">
        <div class="wheel"></div>
    </div>
    <h3 class="center">Загрузка</h3>
</div>
@using (Ajax.BeginForm("CompareCourses", new AjaxOptions
{
    HttpMethod = "Post",
    InsertionMode = InsertionMode.Replace,
    UpdateTargetId = "Charts",
    LoadingElementId = "loadingIndicator",
}))
{
    <div class="row">
        <div class="col-4">Выберите первый курс</div>
        <div class="col-8">
            @Html.DropDownList("Course1", (IEnumerable<SelectListItem>)ViewBag.Course, new { @onchange = "$(this.form).submit();" })
       </div>
    </div>
    <div class="row">
        <div class="col-4">Выберите второй курс</div>
        <div class="col-8">
            @Html.DropDownList("Course2", (IEnumerable<SelectListItem>)ViewBag.Course, new { @onchange = "$(this.form).submit();" })
        </div>
    </div>
    <div class="row">
        <div class="col-4">Выберите вид статистики</div>
        <div class="col-8">
            <select name="Statistics" onchange="$(this.form).submit();">
                <option disabled selected> -- Выберите вид статистики -- </option>
                <option value="1">Правильные ответы</option>
                <option value="2">Количество самоподготовки</option>
            </select>
        </div>
    </div>
    <div id="Charts"></div>
}
@section scripts
{
    @Scripts.Render("~/bundles/statistic")
    <script>
        var ctx = document.getElementById("chart");
        var myBarChart = new Chart(ctx, {
            type: 'bar',
            data: data,
            options: options
        });
        var ctxLineQ = document.getElementById("lineChartQ").getContext("2d");
        var myLineChartQ = Chart.Line(ctxLineQ, {
            data: data,
            options: options
        });
        var ctxLineD = document.getElementById("lineChartD").getContext("2d");
        var myLineChartD = Chart.Line(ctxLineD, {
            data: data,
            options: options
        });
    </script>
}